{"version":3,"file":"multiselect.component.js","sourceRoot":"","sources":["../../../../src/components/multiselect/multiselect.component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAU,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,WAAW,EAAa,MAAM,gBAAgB,CAAC;;IAuBtD;6BAJ0B,IAAI,YAAY,EAAE;iCAEZ,EAAE;KAEjB;IAEjB,uCAAQ,GAAR;QAAA,iBAKC;QAJC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAC,OAAY;YACxC,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SAC5C,CAAC,CAAC;QACH,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC;KAChC;IAED,0CAAW,GAAX,UAAY,MAAW;QAAvB,iBASC;QARC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;QAC1B,MAAM,CAAC,OAAO,CAAC,UAAC,OAAY;YAC1B,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC;SAC5C,CAAC,CAAC;QACH,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,WAAW,EAAE,CAAC,CAAC;SACrC;QACD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACtC;;gBAvCF,SAAS,SAAC;oBACT,QAAQ,EAAE,iBAAiB;oBAC3B,QAAQ,EAAE,o0BASuE;iBAClF;;;;;4BAEE,KAAK,SAAC,SAAS;2BACf,KAAK,SAAC,QAAQ;2BACd,KAAK,SAAC,QAAQ;kCACd,MAAM;;+BApBT;;SAgBa,oBAAoB","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { FormControl, FormArray } from '@angular/forms';\n\n@Component({\n  selector: 'app-multiselect',\n  template: `<mat-form-field>\n              <mat-select [placeholder]=\"ui.label\" [(ngModel)]=\"transformediModel\" (ngModelChange)=\"updateModel($event)\" multiple>\n                <mat-option *ngFor=\"let entry of schema.enum\" [value]=\"entry\">{{entry}}</mat-option>\n              </mat-select>\n            </mat-form-field>\n            <mat-error *ngIf=\"control?.errors?.required\">Dieser Wert ist eine Pflichtangabe.</mat-error>\n            <mat-error *ngIf=\"control?.errors?.minNumber\">Es müssen mindestens {{\n              control.errors.minNumber.requiredElements}} Elemente ausgewählt werden.</mat-error>\n            <mat-error *ngIf=\"control?.errors?.enumValidator\">Dieser Wert ist nicht zulässig. Erlaubte Werte sind: {{\n              control.errors.enumValidator.allowedValues.join(\", \") }}</mat-error>`\n})\nexport class MultiselectComponent implements OnInit {\n  @Input('control') control: FormControl | any;\n  @Input('iModel') iModel: any;\n  @Input('schema') schema: any;\n  @Output() ngModelChange = new EventEmitter();\n  public ui: any;\n  public transformediModel: any = [];\n\n  constructor() { }\n\n  ngOnInit() {\n    this.iModel.controls.forEach((element: any) => {\n      this.transformediModel.push(element.value);\n    });\n    this.ui = this.schema.ui || {};\n  }\n\n  updateModel($event: any) {\n    this.iModel.controls = [];\n    $event.forEach((element: any) => {\n      this.iModel.push(new FormControl(element));\n    });\n    if (!this.iModel.controls.length) {\n      this.iModel.push(new FormControl());\n    }\n    this.ngModelChange.emit(this.iModel);\n  }\n}\n"]}